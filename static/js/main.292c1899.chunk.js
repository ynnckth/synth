(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{1:function(e){e.exports=JSON.parse('{"keyboardKeys":[{"note":"C","type":"WHITE","position":0},{"note":"D","type":"WHITE","position":80},{"note":"E","type":"WHITE","position":160},{"note":"F","type":"WHITE","position":240},{"note":"G","type":"WHITE","position":320},{"note":"A","type":"WHITE","position":400},{"note":"B","type":"WHITE","position":480},{"note":"C#","type":"BLACK","position":60},{"note":"D#","type":"BLACK","position":140},{"note":"F#","type":"BLACK","position":300},{"note":"G#","type":"BLACK","position":380},{"note":"A#","type":"BLACK","position":460}],"computerKeyMappings":[{"key":"a","keyCode":65,"note":"C1"},{"key":"w","keyCode":87,"note":"C#1"},{"key":"s","keyCode":83,"note":"D1"},{"key":"e","keyCode":69,"note":"D#1"},{"key":"d","keyCode":68,"note":"E1"},{"key":"f","keyCode":70,"note":"F1"},{"key":"t","keyCode":84,"note":"F#1"},{"key":"g","keyCode":71,"note":"G1"},{"key":"z","keyCode":90,"note":"G#1"},{"key":"h","keyCode":72,"note":"A1"},{"key":"u","keyCode":85,"note":"A#1"},{"key":"j","keyCode":74,"note":"B1"},{"key":"k","keyCode":75,"note":"C2"},{"key":"o","keyCode":79,"note":"C#2"},{"key":"l","keyCode":76,"note":"D2"},{"key":"p","keyCode":80,"note":"D#2"},{"key":"\xf6","keyCode":186,"note":"E2"}],"noteFrequencyMappings":[{"note":"C1","frequency":262},{"note":"C#1","frequency":278},{"note":"D1","frequency":294},{"note":"D#1","frequency":311},{"note":"E1","frequency":330},{"note":"F1","frequency":349},{"note":"F#1","frequency":370},{"note":"G1","frequency":392},{"note":"G#1","frequency":415},{"note":"A1","frequency":440},{"note":"A#1","frequency":466},{"note":"B1","frequency":494},{"note":"C2","frequency":523},{"note":"C#2","frequency":554},{"note":"D2","frequency":587},{"note":"D#2","frequency":622},{"note":"E2","frequency":659}]}')},11:function(e,t,n){e.exports=n(18)},16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var o,i=n(0),r=n.n(i),a=n(7),s=n.n(a),c=(n(16),n(17),n(5)),u=n(3),y=n(4),l=n(9),p=n(8),d=n(2),f=n(10);!function(e){e.BLACK="BLACK",e.WHITE="WHITE"}(o||(o={}));var v=function(e,t){return e===o.WHITE?t?"#f7f7f7":"#FFFFF7":t?"black":"#4B4B4B"},k=function(e){var t=e.keyType,n=e.position,i=e.isPressed,a=e.note,s=e.onKeyPressed,c=e.onKeyReleased;return r.a.createElement("svg",null,r.a.createElement("rect",{stroke:t===o.WHITE?"#555555":"#979797",fill:v(t,i),x:n,y:0,width:t===o.WHITE?80:40,height:t===o.WHITE?400:280,onMouseDown:function(){return s(a)},onMouseUp:function(){return c(a)}}))},h=n(1),C=function(e){return h.computerKeyMappings.map((function(e){return e.key})).includes(e)},m=function(e){var t=h.computerKeyMappings.find((function(t){return t.key===e}));return t?t.note:""};function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(l.a)(this,Object(p.a)(t).call(this,e))).state=void 0,n.state={activeNotes:{}},n.handleComputerKeyPressed=n.handleComputerKeyPressed.bind(Object(d.a)(n)),n.handleComputerKeyReleased=n.handleComputerKeyReleased.bind(Object(d.a)(n)),n}return Object(f.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleComputerKeyPressed),window.addEventListener("keyup",this.handleComputerKeyReleased)}},{key:"playNote",value:function(e){this.updateActiveNotes(e,!0),this.props.audioService.playNote(e)}},{key:"releaseNote",value:function(e){this.updateActiveNotes(e,!1),this.props.audioService.releaseNote(e)}},{key:"handleComputerKeyPressed",value:function(e){var t=m(e.key);C(e.key)&&!this.noteIsActive(t)&&this.playNote(t)}},{key:"handleComputerKeyReleased",value:function(e){if(C(e.key)){var t=m(e.key);this.releaseNote(t)}}},{key:"updateActiveNotes",value:function(e,t){this.setState({activeNotes:w({},this.state.activeNotes,Object(c.a)({},e,t))})}},{key:"noteIsActive",value:function(e){return void 0!==this.state.activeNotes&&this.state.activeNotes[e]}},{key:"render",value:function(){var e=this;return r.a.createElement("svg",null,r.a.createElement("g",{id:"octave-1"},h.keyboardKeys.map((function(t){return r.a.createElement(k,{key:"".concat(t.note,"1"),note:"".concat(t.note,"1"),keyType:t.type,position:t.position,isPressed:e.noteIsActive("".concat(t.note,"1")),onKeyPressed:function(t){return e.playNote(t)},onKeyReleased:function(t){return e.releaseNote(t)}})}))),r.a.createElement("g",{id:"octave-2",transform:"translate(560.000000, 0.000000)"},h.keyboardKeys.map((function(t){return r.a.createElement(k,{key:"".concat(t.note,"2"),note:"".concat(t.note,"2"),keyType:t.type,position:t.position,isPressed:e.noteIsActive("".concat(t.note,"2")),onKeyPressed:function(t){return e.playNote(t)},onKeyReleased:function(t){return e.releaseNote(t)}})}))))}}]),t}(r.a.Component),O=function(){return r.a.createElement("svg",{viewBox:"0 0 1120 600",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement(K.Consumer,null,(function(e){return r.a.createElement(g,{audioService:e})})))},b=new(function(){function e(){Object(u.a)(this,e),this.audioContext=void 0,this.noteOscillators=void 0,this.gain=void 0,this.oscillatorWaveType=void 0;var t=window.AudioContext||window.webkitAudioContext;this.audioContext=new t,this.oscillatorWaveType="sine",this.gain=this.audioContext.createGain(),this.gain.gain.value=.2,this.gain.connect(this.audioContext.destination),this.noteOscillators=new Map}return Object(y.a)(e,[{key:"playNote",value:function(e){var t=h.noteFrequencyMappings.filter((function(t){return t.note===e}))[0].frequency;if(t){var n=this.audioContext.createOscillator();n.type=this.oscillatorWaveType,n.frequency.value=t,n.connect(this.gain),n.start(),this.noteOscillators.set(e,n)}}},{key:"releaseNote",value:function(e){var t=this.noteOscillators.get(e);t&&(t.disconnect(),this.noteOscillators.set(e,void 0))}},{key:"releaseAllNotes",value:function(){var e=this;h.noteFrequencyMappings.forEach((function(t){return e.releaseNote(t.note)}))}}]),e}()),K=r.a.createContext(b),N=function(){return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"synth"},r.a.createElement(K.Provider,{value:b},r.a.createElement(O,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[11,1,2]]]);
//# sourceMappingURL=main.292c1899.chunk.js.map