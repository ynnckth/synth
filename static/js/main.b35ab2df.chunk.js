(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],[,function(e){e.exports=JSON.parse('{"keyboardKeys":[{"note":"C","type":"WHITE","position":0},{"note":"D","type":"WHITE","position":80},{"note":"E","type":"WHITE","position":160},{"note":"F","type":"WHITE","position":240},{"note":"G","type":"WHITE","position":320},{"note":"A","type":"WHITE","position":400},{"note":"B","type":"WHITE","position":480},{"note":"C#","type":"BLACK","position":60},{"note":"D#","type":"BLACK","position":140},{"note":"F#","type":"BLACK","position":300},{"note":"G#","type":"BLACK","position":380},{"note":"A#","type":"BLACK","position":460}],"computerKeyMappings":[{"key":"a","keyCode":65,"note":"C1"},{"key":"w","keyCode":87,"note":"C#1"},{"key":"s","keyCode":83,"note":"D1"},{"key":"e","keyCode":69,"note":"D#1"},{"key":"d","keyCode":68,"note":"E1"},{"key":"f","keyCode":70,"note":"F1"},{"key":"t","keyCode":84,"note":"F#1"},{"key":"g","keyCode":71,"note":"G1"},{"key":"z","keyCode":90,"note":"G#1"},{"key":"h","keyCode":72,"note":"A1"},{"key":"u","keyCode":85,"note":"A#1"},{"key":"j","keyCode":74,"note":"B1"},{"key":"k","keyCode":75,"note":"C2"},{"key":"o","keyCode":79,"note":"C#2"},{"key":"l","keyCode":76,"note":"D2"},{"key":"p","keyCode":80,"note":"D#2"},{"key":"\xf6","keyCode":186,"note":"E2"}],"noteFrequencyMappings":[{"note":"C1","frequency":262},{"note":"C#1","frequency":278},{"note":"D1","frequency":294},{"note":"D#1","frequency":311},{"note":"E1","frequency":330},{"note":"F1","frequency":349},{"note":"F#1","frequency":370},{"note":"G1","frequency":392},{"note":"G#1","frequency":415},{"note":"A1","frequency":440},{"note":"A#1","frequency":466},{"note":"B1","frequency":494},{"note":"C2","frequency":523},{"note":"C#2","frequency":554},{"note":"D2","frequency":587},{"note":"D#2","frequency":622},{"note":"E2","frequency":659}]}')},,,,,,,,,,function(e,t,n){e.exports=n(19)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o,a=n(0),r=n.n(a),i=n(10),s=n.n(i),c=(n(16),n(17),n(3)),u=n(4),y=n(7),l=n(5),p=n(2),d=n(6),v=n(8);!function(e){e.BLACK="BLACK",e.WHITE="WHITE"}(o||(o={}));var f=function(e,t){return e===o.WHITE?t?"#f7f7f7":"#FFFFF7":t?"black":"#4B4B4B"},h=function(e){var t=e.keyType,n=e.position,a=e.isPressed,i=e.note,s=e.onKeyPressed,c=e.onKeyReleased;return r.a.createElement("svg",null,r.a.createElement("rect",{stroke:t===o.WHITE?"#555555":"#979797",fill:f(t,a),x:n,y:0,width:t===o.WHITE?80:40,height:t===o.WHITE?400:280,onMouseDown:function(){return s(i)},onMouseUp:function(){return c(i)}}))},k=n(1),m=function(e){return k.computerKeyMappings.map((function(e){return e.key})).includes(e)},C=function(e){var t=k.computerKeyMappings.find((function(t){return t.key===e}));return t?t.note:""};function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(n,!0).forEach((function(t){Object(v.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(y.a)(this,Object(l.a)(t).call(this,e))).state=void 0,n.state={activeNotes:{}},n.handleComputerKeyPressed=n.handleComputerKeyPressed.bind(Object(p.a)(n)),n.handleComputerKeyReleased=n.handleComputerKeyReleased.bind(Object(p.a)(n)),n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleComputerKeyPressed),window.addEventListener("keyup",this.handleComputerKeyReleased)}},{key:"playNote",value:function(e){this.updateActiveNotes(e,!0),this.props.audioService.playNote(e)}},{key:"releaseNote",value:function(e){this.updateActiveNotes(e,!1),this.props.audioService.releaseNote(e)}},{key:"handleComputerKeyPressed",value:function(e){var t=C(e.key);m(e.key)&&!this.noteIsActive(t)&&this.playNote(t)}},{key:"handleComputerKeyReleased",value:function(e){if(m(e.key)){var t=C(e.key);this.releaseNote(t)}}},{key:"updateActiveNotes",value:function(e,t){this.setState({activeNotes:g({},this.state.activeNotes,Object(v.a)({},e,t))})}},{key:"noteIsActive",value:function(e){return void 0!==this.state.activeNotes&&this.state.activeNotes[e]}},{key:"render",value:function(){var e=this;return r.a.createElement("svg",null,r.a.createElement("g",{id:"octave-1"},k.keyboardKeys.map((function(t){return r.a.createElement(h,{key:"".concat(t.note,"1"),note:"".concat(t.note,"1"),keyType:t.type,position:t.position,isPressed:e.noteIsActive("".concat(t.note,"1")),onKeyPressed:function(t){return e.playNote(t)},onKeyReleased:function(t){return e.releaseNote(t)}})}))),r.a.createElement("g",{id:"octave-2",transform:"translate(560.000000, 0.000000)"},k.keyboardKeys.map((function(t){return r.a.createElement(h,{key:"".concat(t.note,"2"),note:"".concat(t.note,"2"),keyType:t.type,position:t.position,isPressed:e.noteIsActive("".concat(t.note,"2")),onKeyPressed:function(t){return e.playNote(t)},onKeyReleased:function(t){return e.releaseNote(t)}})}))))}}]),t}(r.a.Component),O=(n(18),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(y.a)(this,Object(l.a)(t).call(this,e))).state=void 0,n.state={selectedWaveForm:"sine"},n.handleWaveFormChanged=n.handleWaveFormChanged.bind(Object(p.a)(n)),n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"handleWaveFormChanged",value:function(e){this.setState({selectedWaveForm:e.target.value}),this.props.audioService.setWaveForm(e.target.value)}},{key:"render",value:function(){return r.a.createElement("div",{className:"synth"},r.a.createElement("select",{value:this.state.selectedWaveForm,onChange:this.handleWaveFormChanged},r.a.createElement("option",{value:"sine"},"Sine"),r.a.createElement("option",{value:"square"},"Square"),r.a.createElement("option",{value:"triangle"},"Triangle"),r.a.createElement("option",{value:"sawtooth"},"Sawtooth")),r.a.createElement("svg",{viewBox:"0 0 1120 600",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement(W.Consumer,null,(function(e){return r.a.createElement(b,{audioService:e})}))))}}]),t}(r.a.Component)),w=new(function(){function e(){Object(c.a)(this,e),this.audioContext=void 0,this.noteOscillators=void 0,this.gain=void 0,this.oscillatorWaveType=void 0;var t=window.AudioContext||window.webkitAudioContext;this.audioContext=new t,this.oscillatorWaveType="sine",this.gain=this.audioContext.createGain(),this.gain.gain.value=.2,this.gain.connect(this.audioContext.destination),this.noteOscillators=new Map}return Object(u.a)(e,[{key:"setWaveForm",value:function(e){this.oscillatorWaveType=e}},{key:"playNote",value:function(e){var t=k.noteFrequencyMappings.filter((function(t){return t.note===e}))[0].frequency;if(t){var n=this.audioContext.createOscillator();n.type=this.oscillatorWaveType,n.frequency.value=t,n.connect(this.gain),n.start(),this.noteOscillators.set(e,n)}}},{key:"releaseNote",value:function(e){var t=this.noteOscillators.get(e);t&&(t.disconnect(),this.noteOscillators.set(e,void 0))}},{key:"releaseAllNotes",value:function(){var e=this;k.noteFrequencyMappings.forEach((function(t){return e.releaseNote(t.note)}))}}]),e}()),W=r.a.createContext(w),j=function(){return r.a.createElement("div",{className:"app"},r.a.createElement(W.Provider,{value:w},r.a.createElement(W.Consumer,null,(function(e){return r.a.createElement(O,{audioService:e})}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[11,1,2]]]);
//# sourceMappingURL=main.b35ab2df.chunk.js.map